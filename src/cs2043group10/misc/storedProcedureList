Stored Procedures List
verifyCredentials:
CREATE PROCEDURE verifyCredentials(IN id int(11), IN password char(100))
   -> BEGIN
   -> SELECT class
   -> FROM accounts
   -> WHERE id = id AND password = password;
   -> END //
queryPatientInformation:
CREATE PROCEDURE queryPatientInformation(IN id int(11))
   -> BEGIN
   -> SELECT *
   -> FROM patients
   -> WHERE id = id;
   -> END //
queryMedicalDocument:
CREATE PROCEDURE queryMedicalDocument(IN id int(11)) BEGIN SELECT * FROM report WHERE id = id; END//
queryFinancialDocument:
CREATE PROCEDURE queryFianancialDocument(IN id int(11)) BEGIN SELECT * FROM transactions WHERE id = id; END//
createPatient:
CREATE PROCEDURE createPatient(
   -> IN name VARCHAR(50),
   -> IN address VARCHAR(75),
   -> IN dateOfBirth DATE,
   -> IN doctorId INT(11),
   -> IN totalAmountDue INT(11),
   -> IN insuranceDeductible INT(11),
   -> IN insuranceCostSharePercentage DECIMAL(10,0),
   -> IN insuranceOutOfPocketMaximum INT(11)
   -> )
   -> BEGIN
   -> INSERT INTO accounts (name, class)
   -> VALUES (name, "patient");
   -> INSERT INTO patients (name, address, id, dateOfBirth, doctorId, totalAmountDue, insuranceDeductible, insuranceCostSharePerecentage, insuranceOutOfPocketMaximum)
   -> VALUES (name, address, LAST_INSERT_ID(), dateOfBirth, doctorId, totalAmountDue, insuranceDeductible, insuranceCostSharePerecentage, insuranceOutOfPocketMaximum);
   -> SELECT id FROM accounts WHERE id=LAST_INSERT_ID();
   -> END //
queryPatientsUnderDoctor:
CREATE PROCEDURE queryPatientsUnderDoctor(
   -> IN doctorId INT(11)
   -> )
   -> BEGIN
   -> SELECT name, address, id, dateOfBirth
   -> FROM patients
   -> WHERE doctorId = doctorId;
   -> END //
  
queryMedicalDocumentsUnderPatient:
CREATE PROCEDURE queryMedicalDocumentsUnderPatient(  IN patientId INT(11) ) BEGIN SELECT createTimeStamp, modifyTimeStamp, title, type, id FROM report WHERE patientId = patientId; END//
queryFinancialDocumentsUnderPatient:
CREATE PROCEDURE queryFinancialDocumentsUnderPatient(
   -> IN patientId INT(11)
   -> )
   -> BEGIN
   -> SELECT createTimeStamp, title, id, amount
   -> FROM transactions
   -> WHERE patientId = patientId;
   -> END //

createTransaction:
CREATE PROCEDURE createTransaction ( IN title varchar(50), IN patientId int(11), IN amount int(11), IN amountPaid int(11), IN description text)  BEGIN INSERT INTO patients (patientid, description, title, amount, amountPaid) VALUES (patientid, description, title, amount, amountPaid); SELECT id FROM transactions WHERE id=LAST_INSERT_ID(); END//
createReport:
CREATE PROCEDURE createReport ( IN title varchar(50), IN patientId int(11), IN body text, IN auxiliary text, IN type varchar(20))  BEGIN INSERT INTO patients (title, type, body, auxiliary, patientId) VALUES (title, type, body, auxiliary, patientId); SELECT id FROM transactions WHERE id=LAST_INSERT_ID(); END//
updatePatient:
CREATE PROCEDURE updatePatient ( IN name varchar(50), IN address varchar(75), IN id int(11), IN dateOfBirth date, IN doctorId int(11), IN totalAmountDue int(11), IN insuranceDeductibile int(11), IN insuranceCostSharePercentage decimal(10, 0), IN OutOfPocketMaximum int(11)) BEGIN UPDATE patients SET name = name, address = address, dateofBirth = dateOfBirth, doctorId = doctorId, totalAmountDue = totalAmountDue, insuranceDeductible = insuranceDeductible, insuranceCostSharePercentage = insuranceCostSharePercentage, insuranceOutOfPocketMaximum = insuranceOutOfPocketMaximum WHERE id = id; END//
updateReport:
CREATE PROCEDURE updateReport ( IN title varchar(50), IN id int(11), IN patientId int(11), IN body text, IN auxiliary text, IN type varchar(20))  BEGIN UPDATE report SET title = title, type = type, body = body, auxiliary
= auxiliary, patientId = patientId WHERE id = id; END//

